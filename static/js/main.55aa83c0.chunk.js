(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),i=n.n(o),s=(n(11),n(1)),c=n(2),l=(n(4),15),u=3,m=l*u/5;var d=function(e){var t=Object(a.useRef)(null),n=null,o=[e.windowDims.Width,e.windowDims.Height],i=o[0],d=o[1],p=window.devicePixelRatio||1,b=Object(a.useState)(0),w=Object(s.a)(b,2),g=w[0],j=w[1],O=Object(a.useState)({x:0,y:0}),S=Object(s.a)(O,2),C=S[0],E=S[1],y=Object(a.useState)([0,0]),L=Object(s.a)(y,2),M=L[0],x=L[1],B=Object(a.useState)(""),P=Object(s.a)(B,2),D=P[0],N=P[1],z=Object(a.useState)(1),H=Object(s.a)(z,2),k=H[0],T=H[1],R=Object(a.useState)(!1),W=Object(s.a)(R,2),I=W[0],A=W[1],Y=Object(a.useState)([1,0,0,1,e.windowDims.Width*p/2,e.windowDims.Height*p/2]),X=Object(s.a)(Y,2),J=X[0],q=X[1],G=function(e){var t=n.getBoundingClientRect();E({x:(e.clientX-t.left)*p,y:(e.clientY-t.top)*p}),x([(C.x-J[4])/J[0],(C.y-J[5])/J[3]])},V=function(e){j(1)},F=function(e){j(0)},K=function(e){G(e),g&&function(e){e.preventDefault();var t=n.getBoundingClientRect(),a=(e.clientX-t.left)*p-C.x,r=(e.clientY-t.top)*p-C.y,o=Object(c.a)(J);o[4]=o[4]+a,o[5]=o[5]+r,q(o),G(e)}(e)},Q=function(e){e.preventDefault(),G(e);var t=k+-.001*e.deltaY;if(t=Math.min(Math.max(.05,t),7),k!==t){var n=J;n[0]=t,n[3]=t,n[4]=C.x-(C.x-J[4])*(t/k),n[5]=C.y-(C.y-J[5])*(t/k),T(t),q(n)}},U=function(e){var t=n.getBoundingClientRect();(e.clientX<=t.left||e.clientY<=t.top||e.clientX>=i||e.clientY>=d)&&j(0)},Z=function(t){t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,n.width,n.height),t.setTransform.apply(t,Object(c.a)(J)),e.showSpiral&&function(e,t,n){for(var a=t[0],r=null,o=1;o<t.length;o++){r=t[o];for(var i=Object(c.a)(a),s=Object(c.a)(r),m=0;m<2;m++)i[m]*=l*u,s[m]*=l*u;if(r[2]>e){var d=(e-a[2])/(r[2]-a[2]),v=[(s[0]-i[0])*d,(s[1]-i[1])*d];h(i,[i[0]+v[0],i[1]+v[1]],n);break}h(i,s,n),a=r}}(e.spiralLength,e.spiralCorners,t),function(t,n,a){for(var r=!1,o=0;o<t;o++){for(var i=Object(c.a)(n[o]),s=0;s<2;s++)i[s]*=l*u;if(f(M,i,m+2))v(i[0],i[1],m,"red",a),r=!0,N(i[2].toString());else{var d=e.crazyMode?e.colors[o]:"black";v(i[0],i[1],m,d,a)}}r||N("")}(e.nPrimes,e.primesPos,t),t.font="".concat(20/J[0]*p,"px Arial"),t.fillStyle="#03C04A",t.fillText(D,M[0]+10,M[1]-10)};return Object(a.useEffect)(function(){n=t.current;var a=(n=function(e,n){var a=t.current;return a.width=e*p,a.height=n*p,a.style.width=e+"px",a.style.height=n+"px",a.getContext("2d").scale(p,p),a}(e.windowDims.Width,e.windowDims.Height)).getContext("2d");return Z(a),!0===e.centerCanvasBool&&function(){A(!0);var t=Object(c.a)(J);t[4]=e.windowDims.Width/2*p,t[5]=e.windowDims.Height/2*p,q(t),e.setCenterCanvasBool(!1)}(),n.addEventListener("mousedown",V),n.addEventListener("touchstart",V),n.addEventListener("mouseup",F),n.addEventListener("touchend",F),n.addEventListener("mousemove",K),n.addEventListener("touchmove",K),n.addEventListener("wheel",Q),n.addEventListener("mouseleave",U),function(){n.removeEventListener("mousedown",V),n.removeEventListener("touchstart",V),n.removeEventListener("mouseup",F),n.removeEventListener("touchend",F),n.removeEventListener("mousemove",K),n.removeEventListener("touchmove",K),n.removeEventListener("wheel",Q),n.removeEventListener("mouseleave",U)}},[g,e.spiralLength,e.windowDims,e.centerCanvasBool,e.showSpiral,e.crazyMode,k,I,J,M,D]),r.a.createElement("canvas",{ref:t,className:"Canvas"})};function v(e,t,n,a,r){r.beginPath(),r.arc(e,t,n,0,2*Math.PI),r.fillStyle=a,r.fill()}function h(e,t,n){n.strokeStyle="#D0D0D0",n.lineWidth=Math.max(1,l*u/12),n.lineCap="round",n.beginPath(),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.stroke()}function f(e,t,n){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)<=Math.pow(n,2)}function p(e,t){if(e<=t[t.length-1])return t;for(var n=Math.max(3,t[t.length-1]);n<=e;n+=2){for(var a=1,r=0;r<t.length;r++)if(n%t[r]===0){a=0;break}a&&t.push(n)}return t}function b(e,t,n){if(e<=n[3]-1)return t;for(var a=[[0,1],[1,-1],[0,-1],[1,1]],r=Object(s.a)(n,4),o=r[0],i=r[1],l=r[2],u=r[3];u<=e;){var m=a[o][0],d=a[o][1],v=Object(c.a)(t[t.length-1]);v[m]+=i*d,v[2]+=i,t.push(v),u+=i,0===--l&&(l=2,i++),o=++o>3?0:o}for(var h=[o,i,l,u],f=0;f<n.length;f++)n[f]=h[f];return t}function w(e,t,n){for(var a=[],r=0,o=1;o<t.length;o++)for(var i=Object(c.a)(t[o-1]),s=Object(c.a)(t[o]),l=s[2]-i[2];n[r]>i[2]&&n[r]<=s[2];){var u=Object(c.a)(i),m=(n[r]-i[2])/l,d=[(s[0]-i[0])*m,(s[1]-i[1])*m];u[0]+=d[0],u[1]+=d[1],u[2]+=Math.abs(d[0])+Math.abs(d[1]),a.push(u),r++}return a}var g=function(e,t){e>t[t.length-1]&&(t=p(e,t));for(var n=0;t[n]<=e;)n++;return n};var j=function(e){var t=function(t){e.setSpiralLength(t),e.setSpiralCorners(b(t,e.spiralCorners,e.dataArr)),e.setPrimes(p(t,e.primes)),e.setNPrimes(g(t,e.primes)),e.setPrimesPos(w(0,e.spiralCorners,e.primes))},n=function(e){return Math.min(Math.max(1,e),S)};return r.a.createElement("div",{className:"Controls-div"},r.a.createElement("button",{className:"Button-short",onClick:function(){t(n(e.spiralLength-1))}},"\u25bc"),r.a.createElement("input",{className:"Spiral-length-input",id:"Spiral-length-input",type:"quantity",value:e.spiralLength,defaultValue:"1",onInput:function(){var e=document.getElementById("Spiral-length-input"),a=parseInt(e.value)||1;a=n(a),t(a)}}),r.a.createElement("button",{className:"Button-short",onClick:function(){t(n(e.spiralLength+1))}},"\u25b2"),r.a.createElement("button",{className:"Button-max",onClick:function(){t(S)}},"Max"),r.a.createElement("button",{className:"Button-long",onClick:function(){return e.setCenterCanvasBool(!0)}},"Center"),r.a.createElement("div",{className:"Controls-div"},r.a.createElement("button",{className:"Button-longer",id:"Show-spiral-button",onClick:function(){var t=document.getElementById("Show-spiral-button");e.showSpiral?(t.innerHTML="Show Spiral",e.setShowSpiral(!1)):(t.innerHTML="Hide Spiral",e.setShowSpiral(!0))}},"Hide Spiral"),r.a.createElement("button",{id:"Crazy-mode-button",className:"Button-longer",onClick:function(){var t=document.getElementById("Crazy-mode-button");e.crazyMode?(t.innerHTML="Crazy Mode",e.setCrazyMode(!1)):(t.innerHTML="Normal Mode",e.setCrazyMode(!0),e.setColors(e.generateRandomColors))}},"Crazy Mode")))},O=2e3,S=1e6;var C=function(){var e=Object(a.useState)([0,1,2,2]),t=Object(s.a)(e,2),n=t[0],o=(t[1],Object(a.useState)(O)),i=Object(s.a)(o,2),c=i[0],l=i[1],u=Object(a.useState)(p(O,[2])),m=Object(s.a)(u,2),v=m[0],h=m[1],f=Object(a.useState)(b(O,[[0,0,1]],n)),S=Object(s.a)(f,2),C=S[0],E=S[1],y=Object(a.useState)(w(0,C,v)),L=Object(s.a)(y,2),M=L[0],x=L[1],B=Object(a.useState)(g(O,v)),P=Object(s.a)(B,2),D=P[0],N=P[1],z=Object(a.useState)({Width:window.innerWidth-60,Height:window.innerHeight-160}),H=Object(s.a)(z,2),k=H[0],T=H[1],R=Object(a.useState)(!1),W=Object(s.a)(R,2),I=W[0],A=W[1],Y=Object(a.useState)(!0),X=Object(s.a)(Y,2),J=X[0],q=X[1],G=Object(a.useState)(!1),V=Object(s.a)(G,2),F=V[0],K=V[1],Q=te,U=Object(a.useState)(Q),Z=Object(s.a)(U,2),$=Z[0],_=Z[1],ee=function(){T({Width:window.innerWidth-60,Height:window.innerHeight-160})},te=function(){for(var e=[],t=0;t<c;t++){var n="#".concat(Math.floor(16777215*Math.random()).toString(16));e.push(n)}return e};return Object(a.useEffect)(function(){return window.addEventListener("resize",ee),function(){window.removeEventListener("resize",ee)}},[]),r.a.createElement("div",{className:"Div1"},r.a.createElement("h1",{className:"Title"},"The Prime Spiral"),r.a.createElement("p",{className:"By-text"}," A React app by Paul Gan"),r.a.createElement(d,{className:"Canvas",spiralLength:c,primesPos:M,nPrimes:D,spiralCorners:C,windowDims:k,centerCanvasBool:I,setCenterCanvasBool:A,showSpiral:J,crazyMode:F,colors:$}),r.a.createElement(j,{spiralLength:c,primesPos:M,nPrimes:D,spiralCorners:C,primes:v,dataArr:n,setSpiralLength:l,setPrimesPos:x,setNPrimes:N,setSpiralCorners:E,setPrimes:h,windowDims:k,setCenterCanvasBool:A,showSpiral:J,setShowSpiral:q,crazyMode:F,setCrazyMode:K,setColors:_,generateRandomColors:te}))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root"))},4:function(e,t,n){},6:function(e,t,n){e.exports=n(14)}},[[6,2,1]]]);
//# sourceMappingURL=main.55aa83c0.chunk.js.map