(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),i=n.n(o),s=(n(11),n(1)),c=n(2),l=(n(4),15),u=3,m=l*u/5;var d=function(e){var t=Object(a.useRef)(null),n=null,o=[e.windowDims.Width,e.windowDims.Height],i=o[0],d=o[1],p=window.devicePixelRatio||1,b=Object(a.useState)(0),w=Object(s.a)(b,2),g=w[0],j=w[1],C=Object(a.useState)({x:0,y:0}),O=Object(s.a)(C,2),S=O[0],E=O[1],y=Object(a.useState)([0,0]),L=Object(s.a)(y,2),M=L[0],B=L[1],x=Object(a.useState)(""),P=Object(s.a)(x,2),D=P[0],N=P[1],z=Object(a.useState)(1),H=Object(s.a)(z,2),k=H[0],T=H[1],R=Object(a.useState)([1,0,0,1,e.windowDims.Width*p/2,e.windowDims.Height*p/2]),W=Object(s.a)(R,2),I=W[0],A=W[1],Y=function(e){j(1)},X=function(e){j(0)},J=function(e){!function(e){var t=n.getBoundingClientRect();E({x:(e.clientX-t.left)*p,y:(e.clientY-t.top)*p}),B([(S.x-I[4])/I[0],(S.y-I[5])/I[3]])}(e),g&&function(e){e.preventDefault();var t=n.getBoundingClientRect(),a=(e.clientX-t.left)*p-S.x,r=(e.clientY-t.top)*p-S.y,o=Object(c.a)(I);o[4]=o[4]+a,o[5]=o[5]+r,A(o)}(e)},q=function(e){e.preventDefault();var t=k+-.002*e.deltaY;if(t=Math.min(Math.max(.05,t),7),k!==t){var n=I;n[0]=t,n[3]=t,n[4]=S.x-(S.x-I[4])*(t/k),n[5]=S.y-(S.y-I[5])*(t/k),T(t),A(n)}},F=function(e){var t=n.getBoundingClientRect();(e.clientX<=t.left||e.clientY<=t.top||e.clientX>=i||e.clientY>=d)&&j(0)},G=function(t){t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.setTransform.apply(t,Object(c.a)(I)),e.showSpiral&&function(e,t,n){for(var a=t[0],r=null,o=1;o<t.length;o++){r=t[o];for(var i=Object(c.a)(a),s=Object(c.a)(r),m=0;m<2;m++)i[m]*=l*u,s[m]*=l*u;if(r[2]>e){var d=(e-a[2])/(r[2]-a[2]),v=[(s[0]-i[0])*d,(s[1]-i[1])*d];h(i,[i[0]+v[0],i[1]+v[1]],n);break}h(i,s,n),a=r}}(e.spiralLength,e.spiralCorners,t),function(t,n,a){for(var r=!1,o=0;o<t;o++){for(var i=Object(c.a)(n[o]),s=0;s<2;s++)i[s]*=l*u;if(f(M,i,m+2)&&!r)v(i[0],i[1],1.5*m,"red",a),r=!0,N(i[2].toString());else{var d=e.crazyMode?e.colors[o]:"black";v(i[0],i[1],m,d,a)}}r||N("")}(e.nPrimes,e.primesPos,t),function(e){e.font="".concat(20/I[0]*p,"px Arial"),e.fillStyle="#03C04A",e.fillText(D,M[0]+10,M[1]-10)}(t)};return Object(a.useEffect)(function(){var a=(n=function(e,n){var a=t.current;return a.width=e*p,a.height=n*p,a.style.width=e+"px",a.style.height=n+"px",a.getContext("2d").scale(p,p),a}(e.windowDims.Width,e.windowDims.Height)).getContext("2d");return G(a),!0===e.centerCanvasBool&&function(){var t=Object(c.a)(I);t[4]=e.windowDims.Width/2*p,t[5]=e.windowDims.Height/2*p,A(t),e.setCenterCanvasBool(!1)}(),n.addEventListener("mousedown",Y),n.addEventListener("touchstart",Y),n.addEventListener("mouseup",X),n.addEventListener("touchend",X),n.addEventListener("mousemove",J),n.addEventListener("touchmove",J),n.addEventListener("wheel",q),n.addEventListener("mouseleave",F),function(){n.removeEventListener("mousedown",Y),n.removeEventListener("touchstart",Y),n.removeEventListener("mouseup",X),n.removeEventListener("touchend",X),n.removeEventListener("mousemove",J),n.removeEventListener("touchmove",J),n.removeEventListener("wheel",q),n.removeEventListener("mouseleave",F)}},[g,e.spiralLength,e.windowDims,e.centerCanvasBool,e.showSpiral,e.crazyMode,k,I,S,D]),r.a.createElement("div",null,r.a.createElement("canvas",{ref:t,className:"Canvas"}))};function v(e,t,n,a,r){r.beginPath(),r.arc(e,t,n,0,2*Math.PI),r.fillStyle=a,r.fill()}function h(e,t,n){n.strokeStyle="#D0D0D0",n.lineWidth=Math.max(1,l*u/12),n.lineCap="round",n.beginPath(),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.stroke()}function f(e,t,n){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)<=Math.pow(n,2)}function p(e,t){if(e<=t[t.length-1])return t;for(var n=Math.max(3,t[t.length-1]+1),a=n=n%2===0?n+1:n;a<=e;a+=2){for(var r=1,o=0;o<t.length;o++)if(a%t[o]===0){r=0;break}r&&t.push(a)}return t}function b(e,t){e>t[t.length-1]&&(t=p(e,t));for(var n=0;t[n]<=e;)n++;return n}function w(e,t,n){if(e<=n[3]-1)return t;for(var a=[[0,1],[1,-1],[0,-1],[1,1]],r=Object(s.a)(n,4),o=r[0],i=r[1],l=r[2],u=r[3];u<=e;){var m=a[o][0],d=a[o][1],v=Object(c.a)(t[t.length-1]);v[m]+=i*d,v[2]+=i,t.push(v),u+=i,0===--l&&(l=2,i++),o=++o>3?0:o}for(var h=[o,i,l,u],f=0;f<n.length;f++)n[f]=h[f];return t}function g(e,t,n){for(var a=[],r=0,o=1;o<t.length;o++)for(var i=Object(c.a)(t[o-1]),s=Object(c.a)(t[o]),l=s[2]-i[2];n[r]>i[2]&&n[r]<=s[2];){var u=Object(c.a)(i),m=(n[r]-i[2])/l,d=[(s[0]-i[0])*m,(s[1]-i[1])*m];u[0]+=d[0],u[1]+=d[1],u[2]+=Math.abs(d[0])+Math.abs(d[1]),a.push(u),r++}return a}var j=function(e){var t=function(t){e.setSpiralLength(t),e.setSpiralCorners(w(t,e.spiralCorners,e.dataArr)),e.setNPrimes(b(t,e.primes)),e.setPrimes(p(t,e.primes)),e.setPrimesPos(g(0,e.spiralCorners,e.primes))},n=function(e){return Math.min(Math.max(1,e),O)};return r.a.createElement("div",{className:"Controls-div"},r.a.createElement("button",{className:"Button-short",onClick:function(){t(n(e.spiralLength-1))}},"\u25bc"),r.a.createElement("input",{className:"Spiral-length-input",id:"Spiral-length-input",type:"quantity",value:e.spiralLength,defaultValue:"1",onInput:function(){var e=document.getElementById("Spiral-length-input"),a=parseInt(e.value)||1;a=n(a),t(a)}}),r.a.createElement("button",{className:"Button-short",onClick:function(){t(n(e.spiralLength+1))}},"\u25b2"),r.a.createElement("button",{className:"Button-max",onClick:function(){t(O)}},"Max"),r.a.createElement("button",{className:"Button-long",onClick:function(){return e.setCenterCanvasBool(!0)}},"Center"),r.a.createElement("div",{className:"Controls-div"},r.a.createElement("button",{className:"Button-longer",id:"Show-spiral-button",onClick:function(){var t=document.getElementById("Show-spiral-button");e.showSpiral?(t.innerHTML="Show Spiral",e.setShowSpiral(!1)):(t.innerHTML="Hide Spiral",e.setShowSpiral(!0))}},"Hide Spiral"),r.a.createElement("button",{id:"Crazy-mode-button",className:"Button-longer",onClick:function(){var t=document.getElementById("Crazy-mode-button");e.crazyMode?(t.innerHTML="Crazy Mode",e.setCrazyMode(!1)):(t.innerHTML="Normal Mode",e.setCrazyMode(!0),e.setColors(e.generateRandomColors(O)))}},"Crazy Mode")))},C=2e3,O=1e6;var S=function(){var e=Object(a.useState)([0,1,2,2]),t=Object(s.a)(e,1)[0],n=Object(a.useState)(C),o=Object(s.a)(n,2),i=o[0],c=o[1],l=Object(a.useState)(p(C,[2])),u=Object(s.a)(l,2),m=u[0],v=u[1],h=Object(a.useState)(w(C,[[0,0,1]],t)),f=Object(s.a)(h,2),S=f[0],E=f[1],y=Object(a.useState)(g(0,S,m)),L=Object(s.a)(y,2),M=L[0],B=L[1],x=Object(a.useState)(b(C,m)),P=Object(s.a)(x,2),D=P[0],N=P[1],z=Object(a.useState)({Width:window.innerWidth-60,Height:window.innerHeight-160}),H=Object(s.a)(z,2),k=H[0],T=H[1],R=Object(a.useState)(!1),W=Object(s.a)(R,2),I=W[0],A=W[1],Y=Object(a.useState)(!0),X=Object(s.a)(Y,2),J=X[0],q=X[1],F=Object(a.useState)(!1),G=Object(s.a)(F,2),V=G[0],K=G[1],Q=function(e){for(var t=[],n=0;n<e;n++){for(var a="#",r=0;r<6;r++)a+="0123456789ABCDEF"[Math.floor(16*Math.random())];t.push(a)}return t},U=Object(a.useState)(Q(O)),Z=Object(s.a)(U,2),$=Z[0],_=Z[1],ee=function(){T({Width:window.innerWidth-60,Height:window.innerHeight-160})};return Object(a.useEffect)(function(){return window.addEventListener("resize",ee),function(){window.removeEventListener("resize",ee)}},[]),r.a.createElement("div",{className:"Div1"},r.a.createElement("h1",{className:"Title"},"The Prime Spiral"),r.a.createElement("p",{className:"By-text"}," A React app by Paul Gan"),r.a.createElement(d,{className:"Canvas",spiralLength:i,primesPos:M,nPrimes:D,spiralCorners:S,windowDims:k,centerCanvasBool:I,setCenterCanvasBool:A,showSpiral:J,crazyMode:V,colors:$}),r.a.createElement(j,{spiralLength:i,primesPos:M,nPrimes:D,spiralCorners:S,primes:m,dataArr:t,setSpiralLength:c,setPrimesPos:B,setNPrimes:N,setSpiralCorners:E,setPrimes:v,windowDims:k,setCenterCanvasBool:A,showSpiral:J,setShowSpiral:q,crazyMode:V,setCrazyMode:K,setColors:_,generateRandomColors:Q}))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root"))},4:function(e,t,n){},6:function(e,t,n){e.exports=n(14)}},[[6,2,1]]]);
//# sourceMappingURL=main.63943eb2.chunk.js.map